{"version":3,"sources":["pages/CastPage/CastPage.module.css","components/CastItem/CastItem.module.css","services/getCast.js","components/CastItem/CastItem.js","pages/CastPage/CastPage.js"],"names":["module","exports","getCast","id","axios","get","CastItem","state","showMore","onShowInfo","setState","this","key","props","cast","className","styles","CastListItem","src","profile_path","alt","CastListImage","type","onClick","Button","name","character","Component","CastPage","casts","match","params","then","response","data","length","slice","prevProps","prevState","listHeight","getComputedStyle","document","querySelector","height","replace","heightToScrollDown","documentElement","scrollHeight","window","scrollTo","top","behavior","CastList","map"],"mappings":"sFACAA,EAAOC,QAAU,CAAC,SAAW,6B,mBCA7BD,EAAOC,QAAU,CAAC,aAAe,+BAA+B,cAAgB,gCAAgC,OAAS,yBAAyB,WAAW,6B,4GCO9IC,EANC,SAACC,GACf,OAAOC,IAAMC,IAAN,6CACiCF,EADjC,uD,kCC2CMG,E,4MA1CbC,MAAQ,CAAEC,UAAU,G,EAEpBC,WAAa,WACX,EAAKC,SAAS,CAAEF,UAAW,EAAKD,MAAMC,Y,uDAG9B,IACAA,EAAaG,KAAKJ,MAAlBC,SACR,OACE,wBAAII,IAAKD,KAAKE,MAAMC,KAAKX,GAAIY,UAAWC,IAAOC,cAC7C,yBACEC,IAAG,0CAAqCP,KAAKE,MAAMC,KAAKK,cACxDC,IAAI,cACJL,UAAWC,IAAOK,iBAElBb,GACA,4BACEc,KAAK,SACLC,QAASZ,KAAKF,WACdM,UAAWC,IAAOQ,QAHpB,wCAQDhB,GACC,6BACE,kDAASG,KAAKE,MAAMC,KAAKW,KAAzB,KACA,wDAAUd,KAAKE,MAAMC,KAAKY,WAC1B,4BACEJ,KAAK,SACLC,QAASZ,KAAKF,WACdM,UAAWC,IAAOQ,QAHpB,0D,GA7BWG,aCEjBC,E,4MACJrB,MAAQ,CAAEsB,MAAO,I,kEAEI,IAAD,OACZ1B,EAAKQ,KAAKE,MAAMiB,MAAMC,OAAO5B,GACnCD,EAAQC,GAAI6B,MAAK,SAACC,GACZA,EAASC,KAAKpB,KAAKqB,OAAS,GAC9B,EAAKzB,SAAS,CAAEmB,MAAOI,EAASC,KAAKpB,KAAKsB,MAAM,EAAG,MAEnD,EAAK1B,SAAS,CAAEmB,MAAOI,EAASC,KAAKpB,Y,yCAIxBuB,EAAWC,GAC5B,IAAMC,EAAaC,iBACjBC,SAASC,cAAc,UACvBC,OAAOC,QAAQ,YAAa,IACxBC,EACJJ,SAASK,gBAAgBC,aAAeR,EAAa,IACvDS,OAAOC,SAAS,CACdC,IAAKL,EACLM,SAAU,a,+BAIJ,IACAtB,EAAUlB,KAAKJ,MAAfsB,MACR,OACE,oCACGA,EAAMM,OAAS,GACd,wBAAIpB,UAAWC,IAAOoC,SAAUjD,GAAG,QAChC0B,EAAMwB,KAAI,SAACvC,GAAD,OACT,kBAAC,WAAD,CAAUF,IAAKE,EAAKX,IACjBW,EAAKK,cAAgB,kBAAC,EAAD,CAAUL,KAAMA,c,GAjC/Ba,aA2CRC","file":"static/js/cast-page.2366bc19.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"CastList\":\"CastPage_CastList__1yuPb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CastListItem\":\"CastItem_CastListItem__3LJ1w\",\"CastListImage\":\"CastItem_CastListImage__3FuhA\",\"Button\":\"CastItem_Button__1EM_w\",\"hvr-push\":\"CastItem_hvr-push__3F3Bx\"};","import axios from \"axios\";\r\n\r\nconst getCast = (id) => {\r\n  return axios.get(\r\n    `https://api.themoviedb.org/3/movie/${id}/credits?api_key=22604d7d4d6b8e16c79f6a5ba307d7e0`\r\n  );\r\n};\r\n\r\nexport default getCast;\r\n","import React, { Component } from \"react\";\r\nimport styles from \"./CastItem.module.css\";\r\n\r\nclass CastItem extends Component {\r\n  state = { showMore: false };\r\n\r\n  onShowInfo = () => {\r\n    this.setState({ showMore: !this.state.showMore });\r\n  };\r\n\r\n  render() {\r\n    const { showMore } = this.state;\r\n    return (\r\n      <li key={this.props.cast.id} className={styles.CastListItem}>\r\n        <img\r\n          src={`https://image.tmdb.org/t/p/w500/${this.props.cast.profile_path}`}\r\n          alt=\"cast_poster\"\r\n          className={styles.CastListImage}\r\n        />\r\n        {!showMore && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={this.onShowInfo}\r\n            className={styles.Button}\r\n          >\r\n            Больше\r\n          </button>\r\n        )}\r\n        {showMore && (\r\n          <div>\r\n            <p>Имя: {this.props.cast.name} </p>\r\n            <p>Роль: {this.props.cast.character}</p>\r\n            <button\r\n              type=\"button\"\r\n              onClick={this.onShowInfo}\r\n              className={styles.Button}\r\n            >\r\n              Спрятать\r\n            </button>\r\n          </div>\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CastItem;\r\n","import React, { Component, Fragment } from \"react\";\r\nimport getCast from \"../../services/getCast\";\r\nimport styles from \"./CastPage.module.css\";\r\nimport CastItem from \"../../components/CastItem/CastItem\";\r\n\r\nclass CastPage extends Component {\r\n  state = { casts: [] };\r\n\r\n  componentDidMount() {\r\n    const id = this.props.match.params.id;\r\n    getCast(id).then((response) => {\r\n      if (response.data.cast.length > 10) {\r\n        this.setState({ casts: response.data.cast.slice(0, 11) });\r\n      } else {\r\n        this.setState({ casts: response.data.cast });\r\n      }\r\n    });\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const listHeight = getComputedStyle(\r\n      document.querySelector(\"#list\")\r\n    ).height.replace(/[^0-9]/gim, \"\");\r\n    const heightToScrollDown =\r\n      document.documentElement.scrollHeight - listHeight - 200;\r\n    window.scrollTo({\r\n      top: heightToScrollDown,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { casts } = this.state;\r\n    return (\r\n      <>\r\n        {casts.length > 0 && (\r\n          <ul className={styles.CastList} id=\"list\">\r\n            {casts.map((cast) => (\r\n              <Fragment key={cast.id}>\r\n                {cast.profile_path && <CastItem cast={cast} />}\r\n              </Fragment>\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CastPage;\r\n"],"sourceRoot":""}