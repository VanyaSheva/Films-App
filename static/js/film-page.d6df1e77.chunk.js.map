{"version":3,"sources":["pages/FilmPage/FilmPage.module.css","components/PageNotFound/PageNotFound.module.css","pages/FilmPage/FilmPage.js","services/getFilmWithId.js","components/PageNotFound/PageNotFound.js"],"names":["module","exports","id","category","getTrending","axios","get","PageNotFound","className","styles","PageNotFoundWrapper","PageNotFound404","PageNotFoundOops","AsyncReviews","lazy","AsyncCast","FilmPage","state","filmData","showError","handleGoBack","props","history","push","pathname","search","this","location","from","match","params","getFilmWithId","then","response","setState","data","catch","error","type","onClick","Button","FilmWrapper","title","original_title","backdrop_path","src","alt","FilmBackground","poster_path","FilmPosterImage","FilmDetails","FilmDetail","overview","GenresList","genres","map","genre","key","GenresListItem","name","AdditionalInfoWrapper","to","AdditionalInfoText","fallback","path","component","Component"],"mappings":"sFACAA,EAAOC,QAAU,CAAC,YAAc,8BAA8B,eAAiB,iCAAiC,gBAAkB,kCAAkC,YAAc,8BAA8B,WAAa,6BAA6B,WAAa,6BAA6B,eAAiB,iCAAiC,sBAAwB,wCAAwC,mBAAqB,qCAAqC,OAAS,yBAAyB,WAAW,6B,mBCA7fD,EAAOC,QAAU,CAAC,oBAAsB,0CAA0C,gBAAkB,sCAAsC,iBAAmB,yC,2CCIzJC,EACAC,E,+ECEWC,EANK,SAACF,GACnB,OAAOG,IAAMC,IAAN,6CACiCJ,EADjC,2D,kCCWMK,EAXM,kBACnB,yBAAKC,UAAWC,IAAOC,qBACrB,uBAAGF,UAAWC,IAAOE,iBAArB,OACA,uBAAGH,UAAWC,IAAOG,kBAArB,gCACA,wHFCEC,EAAeC,gBAAK,kBACxB,gCAIIC,EAAYD,gBAAK,kBACrB,gCAGIE,E,4MACJC,MAAQ,CAAEC,SAAU,KAAMC,WAAW,G,EAUrCC,aAAe,WACRjB,EAOL,EAAKkB,MAAMC,QAAQC,KAAK,CACtBC,SAAU,SACVC,OAAO,aAAD,OAAetB,KARrB,EAAKkB,MAAMC,QAAQC,KAAK,CACtBC,SAAU,gB,kEAZK,IAAD,OACdE,KAAKL,MAAMM,SAASV,QACtBd,EAAWuB,KAAKL,MAAMM,SAASV,MAAMW,MAEvC1B,EAAKwB,KAAKL,MAAMQ,MAAMC,OAAO5B,GAC7B6B,EAAc7B,GACX8B,MAAK,SAACC,GAAD,OAAc,EAAKC,SAAS,CAAEhB,SAAUe,EAASE,UACtDC,OAAM,SAACC,GAAD,OAAW,EAAKH,SAAS,CAAEf,WAAW,S,+BAevC,IAAD,EACyBO,KAAKT,MAA7BC,EADD,EACCA,SAAUC,EADX,EACWA,UAClB,OACE,oCACE,4BACEmB,KAAK,SACLC,QAASb,KAAKN,aACdZ,UAAWC,IAAO+B,SAEnBtB,GACC,yBAAKV,UAAWC,IAAOgC,aACrB,4BAAKvB,EAASwB,OACd,4BAAKxB,EAASyB,gBACbzB,EAAS0B,eACR,yBACEC,IAAG,0CAAqC3B,EAAS0B,eACjDE,IAAI,yBACJtC,UAAWC,IAAOsC,iBAGtB,yBACEF,IAAG,0CAAqC3B,EAAS8B,aACjDF,IAAI,yBACJtC,UAAWC,IAAOwC,kBAEpB,yBAAKzC,UAAWC,IAAOyC,aACrB,yBAAK1C,UAAWC,IAAO0C,YACrB,gFACCjC,EAASkC,UAAY,2BAAIlC,EAASkC,WACjClC,EAASkC,UAAY,kKAEzB,yBAAK5C,UAAWC,IAAO0C,YACrB,+DACA,wBAAI3C,UAAWC,IAAO4C,YACnBnC,EAASoC,OAAOC,KAAI,SAACC,GAAD,OACnB,wBAAIC,IAAKD,EAAMtD,GAAIM,UAAWC,IAAOiD,gBAClCF,EAAMG,YAOjB,gLACA,yBAAKnD,UAAWC,IAAOmD,uBACrB,kBAAC,IAAD,CAAMC,GAAE,iBAAY3D,EAAZ,aACN,uBAAGM,UAAWC,IAAOqD,oBAArB,yCAEF,kBAAC,IAAD,CAAMD,GAAE,iBAAY3D,EAAZ,UACN,uBAAGM,UAAWC,IAAOqD,oBAArB,0CAGJ,kBAAC,WAAD,CAAUC,SAAU,2CAClB,kBAAC,IAAD,CAAOC,KAAK,qBAAqBC,UAAWpD,IAC5C,kBAAC,IAAD,CAAOmD,KAAK,kBAAkBC,UAAWlD,MAI9CI,GAAa,kBAAC,EAAD,W,GAlFC+C,aAwFRlD","file":"static/js/film-page.d6df1e77.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"FilmWrapper\":\"FilmPage_FilmWrapper__-6qCy\",\"FilmBackground\":\"FilmPage_FilmBackground__3cCEs\",\"FilmPosterImage\":\"FilmPage_FilmPosterImage__1e60J\",\"FilmDetails\":\"FilmPage_FilmDetails__3YoxA\",\"FilmDetail\":\"FilmPage_FilmDetail__1bLoM\",\"GenresList\":\"FilmPage_GenresList__cplYP\",\"GenresListItem\":\"FilmPage_GenresListItem__138Bo\",\"AdditionalInfoWrapper\":\"FilmPage_AdditionalInfoWrapper__3jP9V\",\"AdditionalInfoText\":\"FilmPage_AdditionalInfoText__1spS5\",\"Button\":\"FilmPage_Button__2Qdg3\",\"hvr-push\":\"FilmPage_hvr-push__2l9pI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PageNotFoundWrapper\":\"PageNotFound_PageNotFoundWrapper__1sVj-\",\"PageNotFound404\":\"PageNotFound_PageNotFound404__2rmpS\",\"PageNotFoundOops\":\"PageNotFound_PageNotFoundOops__6NLJ2\"};","import React, { Component, lazy, Suspense } from \"react\";\r\nimport { Link, Route } from \"react-router-dom\";\r\nimport getFilmWithId from \"../../services/getFilmWithId\";\r\nimport styles from \"./FilmPage.module.css\";\r\nimport PageNotFound from \"../../components/PageNotFound/PageNotFound\";\r\nlet id;\r\nlet category;\r\n\r\nconst AsyncReviews = lazy(() =>\r\n  import(\r\n    \"../../pages/ReviewsPage/ReviewsPage\" /* webpackChunkName: \"reviews-page\" */\r\n  )\r\n);\r\nconst AsyncCast = lazy(() =>\r\n  import(\"../../pages/CastPage/CastPage\" /* webpackChunkName: \"cast-page\" */)\r\n);\r\n\r\nclass FilmPage extends Component {\r\n  state = { filmData: null, showError: false };\r\n  componentDidMount() {\r\n    if (this.props.location.state) {\r\n      category = this.props.location.state.from;\r\n    }\r\n    id = this.props.match.params.id;\r\n    getFilmWithId(id)\r\n      .then((response) => this.setState({ filmData: response.data }))\r\n      .catch((error) => this.setState({ showError: true }));\r\n  }\r\n  handleGoBack = () => {\r\n    if (!category) {\r\n      this.props.history.push({\r\n        pathname: \"/Films-App\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.history.push({\r\n      pathname: \"/films\",\r\n      search: `?category=${category}`,\r\n    });\r\n  };\r\n  render() {\r\n    const { filmData, showError } = this.state;\r\n    return (\r\n      <>\r\n        <button\r\n          type=\"button\"\r\n          onClick={this.handleGoBack}\r\n          className={styles.Button}\r\n        ></button>\r\n        {filmData && (\r\n          <div className={styles.FilmWrapper}>\r\n            <h1>{filmData.title}</h1>\r\n            <h6>{filmData.original_title}</h6>\r\n            {filmData.backdrop_path && (\r\n              <img\r\n                src={`https://image.tmdb.org/t/p/w500/${filmData.backdrop_path}`}\r\n                alt=\"film_background_poster\"\r\n                className={styles.FilmBackground}\r\n              />\r\n            )}\r\n            <img\r\n              src={`https://image.tmdb.org/t/p/w500/${filmData.poster_path}`}\r\n              alt=\"film_background_poster\"\r\n              className={styles.FilmPosterImage}\r\n            />\r\n            <div className={styles.FilmDetails}>\r\n              <div className={styles.FilmDetail}>\r\n                <h2>Описание</h2>\r\n                {filmData.overview && <p>{filmData.overview}</p>}\r\n                {!filmData.overview && <p>К сожалению, описания нет</p>}\r\n              </div>\r\n              <div className={styles.FilmDetail}>\r\n                <h3>Жанры:</h3>\r\n                <ul className={styles.GenresList}>\r\n                  {filmData.genres.map((genre) => (\r\n                    <li key={genre.id} className={styles.GenresListItem}>\r\n                      {genre.name}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n\r\n            <p>Дополнительная информация</p>\r\n            <div className={styles.AdditionalInfoWrapper}>\r\n              <Link to={`/films/${id}/reviews`}>\r\n                <p className={styles.AdditionalInfoText}>Обзоры</p>\r\n              </Link>\r\n              <Link to={`/films/${id}/cast`}>\r\n                <p className={styles.AdditionalInfoText}>Актеры</p>\r\n              </Link>\r\n            </div>\r\n            <Suspense fallback={<h1>Loading...</h1>}>\r\n              <Route path=\"/films/:id/reviews\" component={AsyncReviews} />\r\n              <Route path=\"/films/:id/cast\" component={AsyncCast} />\r\n            </Suspense>\r\n          </div>\r\n        )}\r\n        {showError && <PageNotFound />}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default FilmPage;\r\n","import axios from \"axios\";\r\n\r\nconst getTrending = (id) => {\r\n  return axios.get(\r\n    `https://api.themoviedb.org/3/movie/${id}?api_key=22604d7d4d6b8e16c79f6a5ba307d7e0&language=ru`\r\n  );\r\n};\r\n\r\nexport default getTrending;\r\n","import React from \"react\";\r\nimport styles from \"./PageNotFound.module.css\";\r\n\r\nconst PageNotFound = () => (\r\n  <div className={styles.PageNotFoundWrapper}>\r\n    <p className={styles.PageNotFound404}>404</p>\r\n    <p className={styles.PageNotFoundOops}>Ooops! Something going wrong</p>\r\n    <p>\r\n      Sorry, but this page not found, please make sure that you have good\r\n      internet connection\r\n    </p>\r\n  </div>\r\n);\r\n\r\nexport default PageNotFound;\r\n"],"sourceRoot":""}