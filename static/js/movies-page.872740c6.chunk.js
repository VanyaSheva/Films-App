(this.webpackJsonpmodule4=this.webpackJsonpmodule4||[]).push([[5],{36:function(e,t,a){"use strict";var r=a(14),n=a(15),o=a(17),s=a(16),c=a(0),i=a.n(c),u=a(7),m=a(37),l=a.n(m),h=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(n.a)(a,[{key:"render",value:function(){var e=this,t=this.props.films;return i.a.createElement("ul",{className:l.a.FilmsList},t.map((function(t){return i.a.createElement(c.Fragment,{key:t.id},t.poster_path&&i.a.createElement("li",{key:t.id,className:l.a.ListItem},i.a.createElement(u.b,{to:{pathname:"/films/".concat(t.id),state:{from:e.props.location}}},i.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300/".concat(t.poster_path),alt:"film_post",className:l.a.ListItemImage}),i.a.createElement("h5",{className:l.a.ListItemTitle},t.title),i.a.createElement("h6",{className:l.a.ListItemYear},t.release_date))))})))}}]),a}(c.Component);t.a=h},37:function(e,t,a){e.exports={FilmsList:"FilmsList_FilmsList__1PYYs",ListItem:"FilmsList_ListItem__3Vus-",ListItemImage:"FilmsList_ListItemImage__4TaJr",ListItemTitle:"FilmsList_ListItemTitle__3YI0q",ListItemYear:"FilmsList_ListItemYear__3ppXg"}},82:function(e,t,a){e.exports={QueryNotFoundWrapper:"QueryNotFound_QueryNotFoundWrapper__2w1kI",QueryNotFound404:"QueryNotFound_QueryNotFound404__15Yzf",QueryNotFoundOops:"QueryNotFound_QueryNotFoundOops__2vCzm",Query:"QueryNotFound_Query__KYJxT",BottomText:"QueryNotFound_BottomText__23eau"}},83:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__1SxOw",SearchForm:"SearchBar_SearchForm__1RScY",SearchFormButton:"SearchBar_SearchFormButton__3HAwE",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__RGSqv",SearchFormInput:"SearchBar_SearchFormInput__1z0wR"}},88:function(e,t,a){"use strict";a.r(t);var r,n=a(40),o=a(14),s=a(15),c=a(17),i=a(16),u=a(0),m=a.n(u),l=a(35),h=a.n(l),p=function(e){return h.a.get("https://api.themoviedb.org/3/search/movie?api_key=22604d7d4d6b8e16c79f6a5ba307d7e0&query=".concat(e))},y=a(36),_=a(69),f=a.n(_),d=a(38),F=function(e,t){return h.a.get("https://api.themoviedb.org/3/search/movie?api_key=22604d7d4d6b8e16c79f6a5ba307d7e0&query=".concat(e,"&page=").concat(t))},S=a(82),b=a.n(S),L=function(e){var t=e.query;return m.a.createElement("div",{className:b.a.QueryNotFoundWrapper},m.a.createElement("p",{className:b.a.QueryNotFound404},"OOOPS!"),m.a.createElement("p",{className:b.a.QueryNotFoundOops},"We can`t find anything with"," ",m.a.createElement("span",{className:b.a.Query},"'",t,"'")," query"),m.a.createElement("p",{className:b.a.BottomText},"Please, specify your query to enjoy our website!"))},g=a(83),v=a.n(g),N=1,E=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,c=new Array(s),i=0;i<s;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={query:"",filmsList:[],showError:!1},e.onFormSubmit=function(t){N=1,e.setState({showError:!1}),t.preventDefault(),r=e.state.query,p(e.state.query).then((function(t){t.data.results.length>0?e.setState({filmsList:t.data.results}):e.setState({filmsList:[],showError:!0})})),e.props.history.push({pathname:e.props.location.pathname,search:"category=".concat(e.state.query)})},e.onInputChange=function(t){e.setState({query:t.target.value})},e.fetchMoreData=function(){N+=1,F(e.state.query,N).then((function(t){var a=[].concat(Object(n.a)(e.state.filmsList),Object(n.a)(t.data.results)),r={},o=a.filter((function(e){return e.id in r?0:r[e.id]=1}));e.setState({filmsList:o})}))},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(this.props.location.search){N=1;var t=f.a.parse(this.props.location.search);this.setState({query:t.category}),p(t.category).then((function(t){return e.setState({filmsList:t.data.results})}))}}},{key:"render",value:function(){var e=this.state,t=e.query,a=e.filmsList,n=e.showError;return m.a.createElement(m.a.Fragment,null,m.a.createElement("form",{onSubmit:this.onFormSubmit,className:v.a.SearchForm},m.a.createElement("input",{placeholder:"Type to search",value:t,onChange:this.onInputChange,required:!0,className:v.a.SearchFormInput}),m.a.createElement("button",{type:"submit",className:v.a.SearchFormButton})),a.length>0&&m.a.createElement(d.a,{dataLength:a,next:this.fetchMoreData,hasMore:!0,scrollThreshold:.8},m.a.createElement(y.a,{films:a,location:t})),n&&m.a.createElement(L,{query:r}))}}]),a}(u.Component);t.default=E}}]);
//# sourceMappingURL=movies-page.872740c6.chunk.js.map